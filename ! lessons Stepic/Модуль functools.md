---
tags:
  - Python
  - TODO
---
---
Дата создания: 2024-11-14 16:26
Дата последнего изменения: 2024-11-14 16:26

---
Модуль представляет собой коллекцию полезных функций высшего порядка, например: `cache`, `reduce`, `update_wrapper`, `wraps`

## Функция partial

**Частичное применение функции** - техника изменения функции, некоторые аргументы которой уже имеют значение. 

Для этого в Python используется функция `partial(func, *args, **kwargs)`, которая возвращает `partial` объект, который при вызове ведет себя как функция.


> [!NOTE] Примечание
> Если аргументы передаются при вызове функции, то позиционные добавляются в конец, а именованные расширяются и перезаписываются.

``` python
from functools import partial 

def sum_numbers(a, b, c=10, d=20): 
    return a + b + c + d 
    
# для первой функции first() указаны все необходимые параметры: 
# позиционные параметры мы передаём в явном виде 
# а именованные уже есть по умолчанию в самом определении функции sum_numbers()
first = partial(sum_numbers, 1, 2) 

# мы можем больше не передавать аргументов нашей функции (иначе ошибка) 
print(first()) # 1 + 2 + 10 + 20 = 33 

# а можем передать ещё позиционные аргументы: 
# они перезапишут именованные параметры c и d 
print(first(3, 4)) # 1 + 2 + 3 + 4 = 10
```



``` python
from functools import partial 

def multiply(a, b):
    return a * b 

double = partial(multiply, 2) 
triple = partial(multiply, 3)

```

Свойства `partial` объекта:
- `func` - исходная функция
- `args` - зафиксированные позиционные аргументы (`tuple`)
- `kwargs` - зафиксированные именованный аргументы (`dict`)

## Функция `update_wrapper`

Функция позволяет копировать характеристики одной функции в другую (`__name__`, `__doc__` и т.д.).


update_wrapper() - декоратор, позволяющий заменить аргументы декоратора, на аргументы декорируемой функции. [документация](https://docs-python.ru/standart-library/modul-functools-python/dekorator-update-wrapper-modulja-functools/)




---
## Ресурсы:
1) Исходный код модуля `functools` доступен по [ссылке](https://github.com/python/cpython/blob/7a4791e03613bfbdc0d3ddfabfc0b59e6a6f7358/Lib/functools.py).
