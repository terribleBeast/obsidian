
Tags:: #IT #Python #py_module 

Кратко: библиотека sys, о потоках ввода и вывода в python. Для std доступны все те же методы, что и для файлов.
## Потоковый ввод

**Поток ввода** (sys.stdin) - это специальный объект в программе, куда попадает текст, введенный пользователем. Данные в нем хранятся до тех пор, пока не будут прочитаны. Для того чтобы считать данные из потока ввода можно использовать функцию input() (обрежет перевод строки). 


``` python
import sys

data = list(map(str.strip, sys.stdin)) # считываение в одну строку
```
Приведенная выше программа будет считывать данные, которые ввел пользователь (будут сохранены символы перевода строки). Для того чтобы ввод был закончен, необходимо ввести Ctrl + d в Linux или IDE PyCharm, либо Ctrl + Z в Windows (произойдет ошибка EOF, но не будет показана).

> [!note]
> Подходит, когда неизвестно о количестве данных на входе.

``` python
name, surname = input(), input()
```
Если пользователь введет только одну строку, то программа завершиться с ошибкой "EOFError: EOF when reading a line", так как второй вызов функции input() не смог ничего прочитать. 


## Потоковый вывод

**Поток ввода** (sys.stdout) - это специальный объект в программе, куда попадает текст, который в последствии будет выведен в консоль. 

> [!note] 
> Stdout работает только со строками

```python 
import sys 

print('Hello') 
sys.stdout.write('world!') 
print('from') 
sys.stdout.write('python\n') 
print('Bye-bye') 

#Hello 
#world!from 
#python 
#Bye-bye
```

## Примечания

#### **Примечание 1.** 
По умолчанию функция `input()` читает данные из потока ввода `sys.stdin`, а функция `print()` печатает данные в поток вывода `sys.stdout`.

#### **Примечание 2.** 
Функция `print()` — это удобная обертка (wrapper) вокруг метода `sys.stdout.write()`. Функцию `input()` часто можно рассматривать как обертку (wrapper) вокруг `sys.stdin.readline()`.

#### **Примечание 3.** 
Объекты `sys.stdin` и `sys.stdout` являются файловыми объектами, предоставляемыми ОС. Им доступны все соответствующие методы (`read(), readline(), readlines(), write(), writelines()`). В общем случае, когда программа запускается в интерактивном сеансе, `stdin` является клавиатурным вводом, а `stdout` является выводом на экран, но оболочка может использоваться для перенаправления из обычных файлов или вывода на канал и ввода в другие программы.

Приведенный ниже код:

```python
import sys

temp = sys.stdout                         # сохраняем исходный потоковый вывод
sys.stdout = open('log.txt', 'w')         # перенаправляем потоковый вывод в файл
print('testing123')
print('another line')
sys.stdout.close()
sys.stdout = temp                         # восстанавливаем исходный потоковый вывод
print('back to normal')
```

приведет к созданию текстового файла `log.txt`, содержащего:

``` txt
testing123
another line
```